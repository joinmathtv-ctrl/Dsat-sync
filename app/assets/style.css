/* ===== Color System / Base ===== */
:root{
  --bg:#fafbfe; --card:#fff; --ink:#1f2937; --muted:#6b7280;
  --line:#e5e7eb; --accent:#2563eb; --accent-ghost:#e7f0ff;
  --flag:#ef9b0f; --choice:#f7f7fb; --choice-hover:#eef2ff;
  --ok:#16a34a; --bad:#ef4444;
}

*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0;
  color:var(--ink);
  background:var(--bg);
  font-family:Inter,system-ui,Segoe UI,Roboto,Apple SD Gothic Neo,Arial,sans-serif;
}
a{ color:inherit; text-decoration:none }

/* ===== Layout / Containers ===== */
.wrap{ max-width:1180px; margin:16px auto 96px; padding:0 14px }
.row{ display:grid; grid-template-columns:1fr 1fr; gap:14px }
@media (max-width:980px){ .row{ grid-template-columns:1fr } }

.grid{ display:grid; gap:6px }
.grid.list{ grid-template-columns:1fr }

/* ===== Cards / Headers ===== */
.card, .qcard{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:14px;
  padding:14px;
  box-shadow:0 6px 20px rgba(0,0,0,.04);
}
.qcard{ padding:16px }
.head{ display:flex; justify-content:space-between; align-items:center; gap:10px; margin-bottom:10px }
.title{ font-weight:800 }
.muted{ color:var(--muted) }

/* ===== Buttons ===== */
.btn, .icon-btn, .dir-btn, .hide-btn, .flag-btn, .pill, .dot, .result-dot{
  border:1px solid var(--line);
  background:#fff;
  border-radius:10px;
  cursor:pointer;
}
.btn, .icon-btn, .dir-btn, .hide-btn{ padding:8px 12px; }
.btn.primary{ background:var(--accent); color:#fff; border-color:var(--accent) }
.btn.ghost{ background:#fff }
.icon-btn{ border-radius:8px; padding:6px 10px; font-size:12px }
.dir-btn{ border-radius:8px; padding:5px 10px; font-size:13px }
.hide-btn{ border-radius:6px; padding:3px 8px; font-size:12px }
.pill{ padding:6px 10px; border-radius:999px; background:#fff; font-size:12px }

/* Inputs */
input[type="text"], input[type="number"], input[type="file"], select, textarea{
  border:1px solid var(--line);
  background:#fff;
  padding:8px 12px;
  border-radius:10px;
  font-size:14px;
}

/* ===== Topbars ===== */
.topbar{
  position:sticky; top:0; z-index:5; background:#fff;
  border-bottom:1px solid var(--line);
}
.toprow, .topbar-row{
  display:flex; align-items:center; justify-content:space-between; gap:10px; padding:10px 14px;
}
.dash{
  height:6px;
  background:repeating-linear-gradient(90deg,
    #d9ead3 0 46px, #fff 46px 54px,
    #f9e1ae 54px 98px, #fff 98px 106px,
    #cfe2f3 106px 152px, #fff 152px 160px);
  opacity:.95;
}
.crumb{ font-weight:600; font-size:14px }
.controls{ display:flex; gap:8px; align-items:center; flex-wrap:wrap }
.timer-wrap{ display:flex; align-items:center; gap:8px }
.timer{ font-weight:800; font-variant-numeric:tabular-nums }
a.back{ color:var(--accent) }

/* ===== Tables ===== */
table{ width:100%; border-collapse:collapse; font-size:14px }
th,td{ border-bottom:1px solid var(--line); padding:8px 6px; text-align:left; vertical-align:top }
th{ color:#111827 }
.right{ text-align:right }

/* ===== Badges ===== */
.badge{ display:inline-block; padding:2px 8px; border-radius:999px; font-size:12px; color:#fff }
.ok{ background:var(--ok) } 
.bad{ background:var(--bad) }

/* Δ 강조: 비교 카드 배지 색상(1-A) */
.badge.ok{ background:var(--ok); color:#fff; }
.badge.bad{ background:var(--bad); color:#fff; }
.badge.ok::before{ content:"▲ "; font-size:11px }
.badge.bad::before{ content:"▼ "; font-size:11px }

/* ===== Modal / Backdrops ===== */
.backdrop, .modal-back, .explain-back{
  position:fixed; inset:0; background:rgba(0,0,0,.36); display:none; z-index:50;
}
.modal, .explain{
  width:min(720px, 95vw);
  margin:8vh auto;
  background:#fff;
  border:1px solid var(--line);
  border-radius:14px; padding:14px;
}
.explain{ width:min(980px, 95vw); max-height:80vh; overflow:auto }
.modal .x, .explain .x{
  float:right; border:1px solid var(--line); background:#fff; padding:6px 10px; border-radius:8px; cursor:pointer
}
.modal .head{ font-weight:800; font-size:18px; margin-bottom:6px }
.modal .foot{ display:flex; justify-content:flex-end; gap:8px; margin-top:12px }

/* ===== Heatmap (Dashboard) ===== */
.heatmap{ --cell:34px; display:grid; grid-template-columns:160px repeat(auto-fill,var(--cell)); overflow:auto }
.heat-row{ display:contents }
.skill-name{
  position:sticky; left:0; background:#fff; border-right:1px solid var(--line);
  padding-right:6px; white-space:nowrap; font-size:13px
}
.cell{ width:var(--cell); height:var(--cell); border:1px solid var(--line); display:grid; place-items:center; font-variant-numeric:tabular-nums; font-size:12px }
.c-0{ background:#fee2e2 } .c-50{ background:#fde68a } .c-70{ background:#fef9c3 } .c-85{ background:#dcfce7 } .c-95{ background:#bbf7d0 }
.legend{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; font-size:12px }

/* ===== Landing cards ===== */
.item{ display:flex; flex-direction:column; overflow:hidden }
.thumb{ position:relative; background:#e9eefc; height:140px; display:grid; place-items:center }
.thumb img{ width:100%; height:100%; object-fit:cover }
.thumb .fallback{ font-size:42px; opacity:.4 }
.body{ padding:12px }
.sub{ font-size:13px; color:var(--muted); margin-bottom:8px }
.tags{ display:flex; flex-wrap:wrap; gap:6px; margin-bottom:10px }
.tag{ font-size:12px; padding:2px 8px; background:#eef2ff; color:#1e40af; border-radius:999px; border:1px solid #e0e7ff }
.meta{ display:flex; gap:10px; color:#374151; font-size:13px; margin-bottom:10px }
.meta b{ font-weight:700 }
.foot{ display:flex; gap:8px; justify-content:flex-end; padding:12px }
.search{ display:flex; gap:8px; align-items:center; background:var(--card); border:1px solid var(--line); border-radius:12px; padding:10px 12px }
.recents{ display:flex; gap:8px; flex-wrap:wrap }

/* ===== Practice UI (index.html) ===== */
.qhead{ display:flex; align-items:center; gap:10px; margin-bottom:6px }
.qnum{ width:28px; height:28px; display:grid; place-items:center; font-weight:700; border:1px solid var(--line); border-radius:6px }
.flag-btn{ margin-left:4px; border-radius:8px; padding:4px 10px; font-size:13px; color:var(--muted) }
.flagged{ color:var(--flag); border-color:#fde68a; background:#fffaf0 }
.qtitle{ text-align:center; color:#0f172a; font-size:14px; margin:4px 0 6px 0 }
.qstem{ font-size:16px; line-height:1.55; margin:10px 0 12px 0 }
.choices{ display:grid; gap:10px }
.choice{
  border:1px solid var(--line); background:var(--choice); border-radius:10px; padding:10px 12px; cursor:pointer;
  display:grid; grid-template-columns:auto 1fr; gap:10px; align-items:flex-start; transition:background .15s, border-color .15s;
}
.choice:hover{ background:var(--choice-hover) }
.bubble{ width:24px; height:24px; border:1px solid var(--line); border-radius:50%; display:grid; place-items:center; font-weight:700; background:#fff; user-select:none; font-size:13px }
.choice input{ display:none }
.choice.selected{ border-color:#bfd3ff; background:#eef4ff }
.choice.selected .bubble{ border-color:var(--accent); color:#fff; background:var(--accent) }
.gridin{ width:260px; padding:10px 12px; border:1px solid var(--line); border-radius:10px; font-size:16px; background:#fff }

.gridwrap{ display:grid; grid-template-columns:1.1fr 1.2fr; gap:14px }
.spr-left{ border:1px dashed var(--line); background:#fff; border-radius:12px; padding:12px; overflow:auto; max-height:60vh }
.spr-right{}
@media (max-width:900px){
  .gridwrap{ grid-template-columns:1fr }
  .spr-left{ max-height:unset }
}

/* Ribbon (bottom fixed) */
.ribbon{
  position:fixed; left:0; right:0; bottom:0; z-index:6;
  display:flex; align-items:center; justify-content:space-between;
  gap:10px; padding:10px 12px; background:#fff; border-top:1px solid var(--line);
}
.r-left,.r-right{ display:flex; gap:20px; align-items:center }
.r-center{ display:flex; justify-content:center; flex:1 }
#navOpen{ min-width:120px; font-weight:700 }

/* Nav popup */
.nav-popup{
  position:fixed; left:50%; transform:translateX(-50%);
  bottom:64px; z-index:7; background:#fff; border:1px solid var(--line);
  border-radius:12px; box-shadow:0 16px 36px rgba(0,0,0,.12); padding:12px; display:none; max-width:90vw;
}
.nav-grid{ display:grid; grid-template-columns:repeat(11, 36px); gap:6px }
.dot{ width:36px; height:36px; border-radius:10px; background:#fff; cursor:pointer; font-weight:600 }
.dot.active{ outline:2px solid var(--accent) }
.dot.answered{ background:#e9fbe7; border-color:#b7f4be }
.dot.flag{ background:#fff3d6; border-color:#fde68a }
@media (max-width:560px){ .nav-grid{ grid-template-columns:repeat(8, 36px) } }

/* Result / Explain */
.result-title{ display:flex; justify-content:space-between; align-items:center; gap:8px }
.result-section{ margin-top:14px }
.result-grid{ display:grid; grid-template-columns:repeat(auto-fill, minmax(36px,1fr)); gap:6px }
.result-dot{ height:36px; border-radius:10px; background:#fff; cursor:pointer; font-weight:700 }
.result-dot.ok{ background:#e9fbe7; border-color:#b7f4be }
.result-dot.bad{ background:#fee2e2; border-color:#fecaca }

.skill-badges{ display:flex; gap:6px; flex-wrap:wrap; margin:8px 0 4px }
.skill-badge{ font-size:12px; padding:3px 8px; border-radius:999px; border:1px solid var(--line); background:#f8fafc; color:#0f172a }

.similar-wrap{ margin-top:12px }
.similar-grid{ display:grid; grid-template-columns:repeat(auto-fill, minmax(160px,1fr)); gap:8px }
.similar-card{ border:1px solid var(--line); background:#fff; border-radius:10px; padding:8px 10px; text-align:left; cursor:pointer }
.similar-meta{ font-size:12px; color:#6b7280 }
.similar-ok{ background:#e9fbe7; border-color:#b7f4be }
.similar-bad{ background:#fee2e2; border-color:#fecaca }

/* Alerts */
.alert{
  background:#fef3f2; color:#b42318; border:1px solid #fecdca;
  padding:10px 12px; border-radius:10px; margin:8px 0; font-size:14px
}
/* Compare grid - 3줄 구성 */
.cmp-grid{
  display:grid;
  grid-template-columns:repeat(2, minmax(0,1fr));
  gap:12px;
}
.cmp-span-all{ grid-column:1 / -1; }

/* 좁은 화면에선 1열 */
@media (max-width:600px){
  .cmp-grid{ grid-template-columns:1fr; }
}

/* ===== Popover (Directions) ===== */
.popover {
  position: absolute;
  z-index: 8;
  width: min(560px, 92vw);
  background: #fff;
  border: 1px solid var(--line);
  border-radius: 12px;
  box-shadow: 0 16px 36px rgba(0,0,0,.12);
  padding: 12px;
}
.popover .head { display: flex; align-items: center; justify-content: space-between; gap: 8px; margin-bottom: 8px; }
.popover .title { font-weight: 800; font-size: 16px; }
.popover .body { font-size: 14px; color: #0f172a; line-height: 1.6; max-height: 46vh; overflow: auto; }
.popover .foot { display:flex; justify-content: flex-end; gap: 8px; margin-top: 10px; }
.popover .x { border:1px solid var(--line); background:#fff; padding:6px 10px; border-radius:8px; cursor:pointer; }
.popover .arrow {
  position: absolute; top: -8px; left: 24px;
  width: 16px; height: 16px; transform: rotate(45deg);
  background: #fff; border-left: 1px solid var(--line); border-top: 1px solid var(--line);
}

/* 리본 위에 떠 있을 때 자연스럽게 보이도록 */
.ribbon { position: fixed; } /* 이미 있음, 재확인 차원 */

/* ===== Popover scroll shadows (2-B) ===== */
.popover {
  overflow: visible; /* ::before/::after 보이도록 */
}
.popover::before,
.popover::after{
  content:"";
  position:absolute;
  left:0; right:0;
  height:14px;
  pointer-events:none;
  opacity:0;
  transition:opacity .15s ease;
}
.popover::before{
  top:40px; /* 헤더 아래쪽 시작 위치(헤더 높이 대략 40px) */
  background: linear-gradient(to bottom, rgba(0,0,0,.12), rgba(0,0,0,0));
}
.popover::after{
  bottom:56px; /* 푸터 위쪽(버튼 영역 높이 가늠) */
  background: linear-gradient(to top, rgba(0,0,0,.12), rgba(0,0,0,0));
}
/* 스크롤 위치에 따라 토글되는 클래스 */
.popover.show-top-shadow::before{ opacity:.6; }
.popover.show-bottom-shadow::after{ opacity:.6; }

/* 모바일에서 헤더/푸터가 붙어 보이면 약간 여백 */
@media (max-width:560px){
  .popover::before{ top:44px; }
  .popover::after{ bottom:60px; }
}

#modeLegend {
  font-family: 'Arial', sans-serif;
  font-size: 18px;
}

.mode-btn {
  cursor: pointer;
  padding: 10px 20px;
  border-radius: 8px;
  border: 2px solid #ddd;
  background-color: #fff;
  color: #333;
  font-weight: bold;
  transition: all 0.3s ease;
}

.mode-btn:hover {
  background-color: #f3f4f6;
}

.mode-btn.selected {
  background-color: #2563eb;
  color: white;
  border-color: #2563eb;
}

.mode-btn:focus {
  outline: none;
}

/* 모드 선택 버튼 스타일링 */
#modeSeg .seg-btn {
  padding: 10px 20px;
  border: 1px solid #ddd;
  border-radius: 8px;
  background-color: #fff;
  cursor: pointer;
  transition: all 0.3s ease;
}

#modeSeg .seg-btn:hover {
  background-color: #f3f4f6;
}

#modeSeg .seg-btn.active {
  background-color: #2563eb;
  color: white;
  border-color: #2563eb;
}

#modeSeg .seg-btn:focus {
  outline: none;
}



